# w表达式

除了常规的表达式,还有一类表达式叫w表达式.

w表达式是ORIG/EQU/CON/END的操作数.

格式是 wexp=exp+可选的"(exp)"+可选的",wexp".
可选表达式之间用逗号分隔

w表达式的计算顺序也是从左到右,还具有以下规则:

- 第一次循环,w取值0,也就是 + 00 00 00 00 00
- 取可选列表的第一个,也就是exp,求值,叫word1
- 计算可选exp(也就是带括号的exp),按fspec计算,叫mod1
- 将word1的后几个byte取出来,替换w的mod1
- 循环

每次循环,都会计算一个新的w,再用计算的值来更新w的某些byte.

w表达式中是不能出现未来引用的,w表达式也只能出现在mixal指令的常量中.
